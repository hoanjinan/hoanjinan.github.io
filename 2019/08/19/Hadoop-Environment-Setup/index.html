<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>Hadoop Environment Setup | hoanjinan_otoko</title><meta name="description" content="This post is going to help you completely configering Hadoop environment with Spark and other essential setups from scratch.  The post includes Operating System (Ubuntu), Hadoop, Spark, Jupyter, SSH Setup."><meta name="keywords" content="Setup,Environment,Installation,Configuration,Big Data,Data Science"><meta name="author" content="Zilan Huang"><meta name="copyright" content="Zilan Huang"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="canonical" href="http://hoanjinan.github.io/2019/08/19/Hadoop-Environment-Setup/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Hadoop Environment Setup"><meta name="twitter:description" content="This post is going to help you completely configering Hadoop environment with Spark and other essential setups from scratch.  The post includes Operating System (Ubuntu), Hadoop, Spark, Jupyter, SSH Setup."><meta name="twitter:image" content="https://live.staticflickr.com/65535/48621680177_6107d2deaf_o.png"><meta property="og:type" content="article"><meta property="og:title" content="Hadoop Environment Setup"><meta property="og:url" content="http://hoanjinan.github.io/2019/08/19/Hadoop-Environment-Setup/"><meta property="og:site_name" content="hoanjinan_otoko"><meta property="og:description" content="This post is going to help you completely configering Hadoop environment with Spark and other essential setups from scratch.  The post includes Operating System (Ubuntu), Hadoop, Spark, Jupyter, SSH Setup."><meta property="og:image" content="https://live.staticflickr.com/65535/48621680177_6107d2deaf_o.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="prev" title="Spark for Machine Learning and AI" href="http://hoanjinan.github.io/2019/08/20/Spark-for-Machine-Learning-AI/"><link rel="next" title="Hello World" href="http://hoanjinan.github.io/2019/08/16/hello-world/"><link rel="manifest" href="/img/pwa/manifest.json"><meta name="theme-color" content="#fff"><meta name="msapplication-TileColor" content="#fff"><link rel="apple-touch-icon" sizes="180x180" href="/img/pwa/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/pwa/32.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/pwa/16.png"><link rel="mask-icon" href="/img/pwa/safari-pinned-tab.svg" color="#5bbad5"><link rel="dns-prefetch" href="https://hm.baidu.com"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?a29c9ae6807bf668430dda20bfdf3ac5";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-146505841-1', 'auto');
ga('send', 'pageview');
</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":1,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight_copy: 'true',
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    title: 'Bookmark',
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days'

  
}</script></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#ubuntu-installation"><span class="toc-number">1.</span> <span class="toc-text"> Ubuntu Installation</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#version-ubuntu-desktop-18042-lts"><span class="toc-number">1.1.</span> <span class="toc-text"> Version: Ubuntu Desktop 18.04.2 LTS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#installation-tutorial-install-ubuntu-desktop"><span class="toc-number">1.2.</span> <span class="toc-text"> Installation Tutorial: Install Ubuntu Desktop</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#disable-auto-update"><span class="toc-number">1.3.</span> <span class="toc-text"> Disable Auto Update</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#disable-auto-shut-down-and-sleep"><span class="toc-number">1.4.</span> <span class="toc-text"> Disable Auto Shut Down and Sleep</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#hadoop-environment-setup"><span class="toc-number">2.</span> <span class="toc-text"> Hadoop Environment Setup</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#pre-installation-setup"><span class="toc-number">2.1.</span> <span class="toc-text"> Pre-installation Setup</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#checking-hostname"><span class="toc-number">2.1.1.</span> <span class="toc-text"> Checking Hostname</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#checking-current-ip-address"><span class="toc-number">2.1.2.</span> <span class="toc-text"> Checking Current IP Address</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#install-vim"><span class="toc-number">2.1.3.</span> <span class="toc-text"> Install vim</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#add-ip-addresses"><span class="toc-number">2.1.4.</span> <span class="toc-text"> Add IP Addresses</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#java-jdk-installation"><span class="toc-number">2.2.</span> <span class="toc-text"> Java JDK Installation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#version-java-se-development-kit-8u221-requires-registration"><span class="toc-number">2.2.1.</span> <span class="toc-text"> Version: Java SE Development Kit 8u221 (Requires Registration)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#extract-the-files-to-usrlibjvm"><span class="toc-number">2.2.2.</span> <span class="toc-text"> Extract the Files to /usr/lib/jvm/</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#add-javas-path-into-path"><span class="toc-number">2.2.3.</span> <span class="toc-text"> Add Java’s Path into $PATH</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#check-java-version-and-path"><span class="toc-number">2.2.4.</span> <span class="toc-text"> Check Java Version and Path</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#setup-ssh"><span class="toc-number">2.3.</span> <span class="toc-text"> Setup SSH</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#hadoop-installation"><span class="toc-number">2.4.</span> <span class="toc-text"> Hadoop Installation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#install-hadoop"><span class="toc-number">2.4.1.</span> <span class="toc-text"> Install Hadoop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#add-hadoops-path-into-path"><span class="toc-number">2.4.2.</span> <span class="toc-text"> Add Hadoop’s Path into $PATH</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#configure-hadoop"><span class="toc-number">2.4.3.</span> <span class="toc-text"> Configure Hadoop</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#spark-environment-setup"><span class="toc-number">3.</span> <span class="toc-text"> Spark Environment Setup</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#install-spark"><span class="toc-number">3.1.</span> <span class="toc-text"> Install Spark</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#add-pathes-into-path"><span class="toc-number">3.2.</span> <span class="toc-text"> Add Pathes into $PATH</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#configure-spark"><span class="toc-number">3.3.</span> <span class="toc-text"> Configure Spark</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#checking-spark-version"><span class="toc-number">3.4.</span> <span class="toc-text"> Checking Spark version</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#setup-public-jupyter-notebook"><span class="toc-number">4.</span> <span class="toc-text"> Setup Public Jupyter Notebook</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#extras"><span class="toc-number">5.</span> <span class="toc-text"> Extras</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#change-machines-username"><span class="toc-number">5.1.</span> <span class="toc-text"> Change Machines’ Username</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#docker-suspended-not-in-use"><span class="toc-number">5.2.</span> <span class="toc-text"> Docker (Suspended - Not in use)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#useful-commands"><span class="toc-number">5.3.</span> <span class="toc-text"> Useful Commands</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#general-commands"><span class="toc-number">5.3.1.</span> <span class="toc-text"> General Commands</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#resetting-path-in-case-if-the-path-is-overwritten-by-mistake"><span class="toc-number">5.3.2.</span> <span class="toc-text"> Resetting $PATH (In case if the $PATH is overwritten by mistake)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#references"><span class="toc-number">6.</span> <span class="toc-text"> References</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#hadoop"><span class="toc-number">6.1.</span> <span class="toc-text"> Hadoop</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#java-jdk"><span class="toc-number">6.2.</span> <span class="toc-text"> Java JDK</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#spark"><span class="toc-number">6.3.</span> <span class="toc-text"> Spark</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#jupyter-notebook"><span class="toc-number">6.4.</span> <span class="toc-text"> Jupyter Notebook</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#hdfs"><span class="toc-number">6.5.</span> <span class="toc-text"> HDFS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#docker"><span class="toc-number">6.6.</span> <span class="toc-text"> Docker</span></a></li></ol></li></ol></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://live.staticflickr.com/65535/48621706257_127e6b526c_o.jpg)"><div id="page-header"><span class="pull-left"> <a class="blog_title" id="site-name" href="/">hoanjinan_otoko</a></span><div class="open toggle-menu pull-right"><div class="menu-icon-first"></div><div class="menu-icon-second"></div><div class="menu-icon-third"></div></div><span class="pull-right menus"><div class="mobile_author_icon"><img class="lozad" src="https://live.staticflickr.com/65535/48621182898_91a9c4cc04_o.jpg" onerror="onerror=null;src='/img/friend_404.gif'"><div class="mobile_author-info__description"></div></div><hr><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> Gallery</span></a><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a><script>document.body.addEventListener('touchstart', function(){ });</script></div></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> Search</span></a></span></div><div id="post-info"><div id="post-title"><div class="posttitle">Hadoop Environment Setup</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> Created 2019-08-19<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> Updated 2019-09-12</time><span class="post-meta__separator mobile_hidden">|</span><span class="mobile_hidden"><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Tutorial/">Tutorial</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Tutorial/Big-Data/">Big Data</a></span><div class="post-meta-wordcount"><span>Word count: </span><span class="word-count">1.6k</span><span class="post-meta__separator">|</span><span>Reading time: 10 min</span><span class="post-meta__separator">|</span><span>Post View: </span><span id="busuanzi_value_page_pv"></span></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="ubuntu-installation"><a class="markdownIt-Anchor" href="#ubuntu-installation"></a> Ubuntu Installation</h1>
<h2 id="version-ubuntu-desktop-18042-lts"><a class="markdownIt-Anchor" href="#version-ubuntu-desktop-18042-lts"></a> Version: <a href="https://ubuntu.com/download/desktop" target="_blank" rel="noopener">Ubuntu Desktop 18.04.2 LTS</a></h2>
<h2 id="installation-tutorial-install-ubuntu-desktop"><a class="markdownIt-Anchor" href="#installation-tutorial-install-ubuntu-desktop"></a> Installation Tutorial: <a href="https://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-desktop#0" target="_blank" rel="noopener">Install Ubuntu Desktop</a></h2>
<h2 id="disable-auto-update"><a class="markdownIt-Anchor" href="#disable-auto-update"></a> Disable Auto Update</h2>
<h2 id="disable-auto-shut-down-and-sleep"><a class="markdownIt-Anchor" href="#disable-auto-shut-down-and-sleep"></a> Disable Auto Shut Down and Sleep</h2>
<p><strong><em>Notice: In log in details session, please set your computer’s name as master/slave1/slave2/slave3 and set username as hadoop across all machines.</em></strong></p>
<h1 id="hadoop-environment-setup"><a class="markdownIt-Anchor" href="#hadoop-environment-setup"></a> Hadoop Environment Setup</h1>
<h2 id="pre-installation-setup"><a class="markdownIt-Anchor" href="#pre-installation-setup"></a> Pre-installation Setup</h2>
<h3 id="checking-hostname"><a class="markdownIt-Anchor" href="#checking-hostname"></a> Checking Hostname</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hadoop@slave1:~$ hostname</span><br><span class="line">slave1</span><br></pre></td></tr></table></figure>
<h3 id="checking-current-ip-address"><a class="markdownIt-Anchor" href="#checking-current-ip-address"></a> Checking Current IP Address</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hadoop@slave1:~$ hostname -I</span><br><span class="line">10.22.16.84 172.17.0.1</span><br></pre></td></tr></table></figure>
<h3 id="install-vim"><a class="markdownIt-Anchor" href="#install-vim"></a> Install vim</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hadoop@slave1:~$ <span class="built_in">cd</span> /</span><br><span class="line">hadoop@slave1:/$ <span class="built_in">cd</span> etc</span><br><span class="line">hadoop@slave1:/etc$ sudo apt install vim</span><br></pre></td></tr></table></figure>
<h3 id="add-ip-addresses"><a class="markdownIt-Anchor" href="#add-ip-addresses"></a> Add IP Addresses</h3>
<p>Insert the information from the table below into /etc/hosts file.</p>
<table>
<thead>
<tr>
<th style="text-align:center">IP Addresses</th>
<th style="text-align:center">Hostnames</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">10.22.17.39</td>
<td style="text-align:center">master</td>
</tr>
<tr>
<td style="text-align:center">10.22.16.84</td>
<td style="text-align:center">slave1</td>
</tr>
<tr>
<td style="text-align:center">10.22.17.150</td>
<td style="text-align:center">slave2</td>
</tr>
<tr>
<td style="text-align:center">10.22.17.79</td>
<td style="text-align:center">slave3</td>
</tr>
</tbody>
</table>
<p>Command to open and insert information:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop@slave1:/etc$ sudo vim hosts</span><br></pre></td></tr></table></figure>
<p>Check if connections to other machines can be established:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop@slave1:/etc$ ping master</span><br></pre></td></tr></table></figure>
<h2 id="java-jdk-installation"><a class="markdownIt-Anchor" href="#java-jdk-installation"></a> Java JDK Installation</h2>
<h3 id="version-java-se-development-kit-8u221-requires-registration"><a class="markdownIt-Anchor" href="#version-java-se-development-kit-8u221-requires-registration"></a> Version: <a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank" rel="noopener">Java SE Development Kit 8u221</a> (Requires Registration)</h3>
<h3 id="extract-the-files-to-usrlibjvm"><a class="markdownIt-Anchor" href="#extract-the-files-to-usrlibjvm"></a> Extract the Files to /usr/lib/jvm/</h3>
<h3 id="add-javas-path-into-path"><a class="markdownIt-Anchor" href="#add-javas-path-into-path"></a> Add Java’s Path into $PATH</h3>
<p>Open /etc/profile file to write the Java path into:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hadoop@slave1:~$ <span class="built_in">cd</span> /etc</span><br><span class="line">hadoop@slave1:~$ sudo vim profile</span><br></pre></td></tr></table></figure>
<p>Insert the following code into the file:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/lib/jvm/jdk1.8.0_211</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$CLASSPATH</span>:<span class="variable">$JAVA_HOME</span>/lib</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$JAVA_HOME</span>/bin</span><br></pre></td></tr></table></figure>
<p>Source the file to apply the changes:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop@slave1:~$ <span class="built_in">source</span> profile</span><br></pre></td></tr></table></figure>
<p><strong><em>Notice: You may need to restart your computer to apply the changes permanently.</em></strong></p>
<h3 id="check-java-version-and-path"><a class="markdownIt-Anchor" href="#check-java-version-and-path"></a> Check Java Version and Path</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">hadoop@slave1:~$ java -version</span><br><span class="line">java version <span class="string">"1.8.0_211"</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_211-b12)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.211-b12, mixed mode)</span><br><span class="line">hadoop@slave1:~$ <span class="built_in">which</span> java</span><br><span class="line">/usr/lib/jvm/jdk1.8.0_211/bin/java</span><br></pre></td></tr></table></figure>
<h2 id="setup-ssh"><a class="markdownIt-Anchor" href="#setup-ssh"></a> Setup SSH</h2>
<p>Setting up this to allow the machines to connect each other without entering passwords.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Installing SSH</span></span><br><span class="line">hadoop@slave1:~$ sudo apt-get install openssh-server</span><br><span class="line"></span><br><span class="line"><span class="comment">#Generate a SSH key</span></span><br><span class="line">hadoop@slave1:~$ ssh-keygen -t rsa</span><br><span class="line">hadoop@slave1:~$ <span class="built_in">cd</span> .ssh/</span><br><span class="line"></span><br><span class="line"><span class="comment">#Copy key into authorized_keys file</span></span><br><span class="line">hadoop@slave1:~/.ssh/$ cat id_rsa.pub &gt;&gt; authorized_keys</span><br><span class="line"></span><br><span class="line"><span class="comment">#To set the file that the owner can read and write on it</span></span><br><span class="line">hadoop@slave1:~/.ssh/$ chmod 0600 authorized_keys</span><br><span class="line"></span><br><span class="line"><span class="comment">#Configer settings on sshd_config file</span></span><br><span class="line">hadoop@slave1:~/.ssh/$ sudo vim /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure>
<p>Type these lines in the end of the sshd_config file:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">RSAAuthentication yes</span><br><span class="line">PubkeyAuthentication yes</span><br><span class="line">AuthorizedKeysFile      %h/.ssh/authorized_keys</span><br></pre></td></tr></table></figure>
<p>Restarting the SSH service and copy its ssh id to other machines:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hadoop@slave1:~/.ssh/$ service ssh restart</span><br><span class="line">hadoop@slave1:~/.ssh/$ ssh-copy-id master@master</span><br><span class="line">hadoop@slave1:~/.ssh/$ ssh <span class="string">'master@master'</span></span><br></pre></td></tr></table></figure>
<h2 id="hadoop-installation"><a class="markdownIt-Anchor" href="#hadoop-installation"></a> Hadoop Installation</h2>
<h3 id="install-hadoop"><a class="markdownIt-Anchor" href="#install-hadoop"></a> Install Hadoop</h3>
<ul>
<li>Version: <a href="https://www.apache.org/dyn/closer.cgi/hadoop/common/hadoop-3.1.2/hadoop-3.1.2.tar.gz" target="_blank" rel="noopener">Hadoop 3.1.2 (Binary)</a></li>
<li>Move Hadoop folder to /usr/ folder</li>
<li>Change folder name into hadoop</li>
<li>Make tmp folder inside of the hadoop folder</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">hadoop@slave1:/$ sudo mv hadoop-3.1.2/ /usr/</span><br><span class="line">hadoop@slave1:/$ <span class="built_in">cd</span> usr/</span><br><span class="line">hadoop@slave1:/usr$ sudo mv hadoop-3.1.2/ hadoop</span><br><span class="line"></span><br><span class="line"><span class="comment">#This line is going to give the permission to the user</span></span><br><span class="line">hadoop@slave1:/usr$ chown -R hadoop:slave1 hadoop/</span><br><span class="line">hadoop@slave1:/usr$ <span class="built_in">cd</span> hadoop/</span><br><span class="line">hadoop@slave1:/usr/hadoop$ mkdir tmp</span><br></pre></td></tr></table></figure>
<h3 id="add-hadoops-path-into-path"><a class="markdownIt-Anchor" href="#add-hadoops-path-into-path"></a> Add Hadoop’s Path into $PATH</h3>
<p>Open /etc/profile file to write the Hadoop path into:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hadoop@slave1:~$ <span class="built_in">cd</span> /etc</span><br><span class="line">hadoop@slave1:~$ sudo vim profile</span><br></pre></td></tr></table></figure>
<p>Insert the following code into the file:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> HADOOP_HOME=/usr/hadoop</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$HADOOP_HOME</span>/bin:<span class="variable">$HADOOP_HOME</span>/sbin</span><br></pre></td></tr></table></figure>
<p>Source the file to apply the changes:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop@slave1:~$ <span class="built_in">source</span> profile</span><br></pre></td></tr></table></figure>
<p><strong><em>Notice: You may need to restart your computer to apply the changes permanently.</em></strong></p>
<h3 id="configure-hadoop"><a class="markdownIt-Anchor" href="#configure-hadoop"></a> Configure Hadoop</h3>
<p>Change configeration settings in 5 following files:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Finding the paths on each file</span></span><br><span class="line">hadoop@slave1:/usr$ find hadoop -name hadoop-env.sh</span><br><span class="line">hadoop@slave1:/usr$ find hadoop -name core-site.xml</span><br><span class="line">hadoop@slave1:/usr$ find hadoop -name hdfs-site.xml</span><br><span class="line">hadoop@slave1:/usr$ find hadoop -name mapred-site.xml</span><br><span class="line">hadoop@slave1:/usr$ find hadoop -name yarn-site.xml</span><br></pre></td></tr></table></figure>
<p>5 paths:</p>
<ul>
<li><a href="http://hadoop-env.sh" target="_blank" rel="noopener">hadoop-env.sh</a> - hadoop/etc/hadoop/hadoop-env.sh</li>
<li>core-site.xml - hadoop/etc/hadoop/core-site.xml</li>
<li>hdfs-site.xml - hadoop/etc/hadoop/hdfs-site.xml</li>
<li>mapred-site.xml - hadoop/etc/hadoop/mapred-site.xml</li>
<li>yarn-site.xml - hadoop/etc/hadoop/yarn-site.xml</li>
</ul>
<p>Configure <strong>hadoop_env.sh</strong>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/lib/jvm/jdk1.8.0_211</span><br></pre></td></tr></table></figure>
<p>Configure <strong>core-site.xml</strong>:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.tmp.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>/usr/hadoop/tmp<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">description</span>&gt;</span>A base for other temporary directories.<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>fs.defaultFS<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>hdfs://master:9000<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Configure <strong>hdfs-site.xml</strong>:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.replication<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.premissions<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>false<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Configure <strong>mapred-site.xml</strong>:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.framework.name<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>yarn<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Configure <strong>yarn-site.xml</strong>:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.resource.memory-mb<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>12288<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.aux-services<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>mapreduce_shuffle<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.env-whitelist<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.resourcemanager.hostname<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>master<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.vmem-check-enabled<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>false<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>The following command is going to insert the name for all workers in lines:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop@slave1:/usr/hadoop/etc/hadoop$ vim workers</span><br></pre></td></tr></table></figure>
<p>Here is the content in workers file:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">master</span><br><span class="line">slave1</span><br><span class="line">slave2</span><br><span class="line">slave3</span><br></pre></td></tr></table></figure>
<h1 id="spark-environment-setup"><a class="markdownIt-Anchor" href="#spark-environment-setup"></a> Spark Environment Setup</h1>
<h2 id="install-spark"><a class="markdownIt-Anchor" href="#install-spark"></a> Install Spark</h2>
<ul>
<li>Version: <a href="https://spark.apache.org/downloads.html" target="_blank" rel="noopener">Spark 2.4.3 (Binary)</a></li>
<li>Move Spark folder to /usr/hadoop/ folder</li>
<li>Change folder name into spark</li>
</ul>
<h2 id="add-pathes-into-path"><a class="markdownIt-Anchor" href="#add-pathes-into-path"></a> Add Pathes into $PATH</h2>
<p>Open the .bashrc file:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop@master:~$ vim .bashrc</span><br></pre></td></tr></table></figure>
<p>In .bashrc file, insert the following lines:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> HADOOP_HOME=/usr/hadoop</span><br><span class="line"><span class="built_in">export</span> HADOOP_INSTALL=<span class="variable">$HADOOP_HOME</span></span><br><span class="line"><span class="built_in">export</span> HADOOP_MAPRED_HOME=<span class="variable">$HADOOP_HOME</span></span><br><span class="line"><span class="built_in">export</span> HADOOP_COMMON_HOME=<span class="variable">$HADOOP_HOME</span></span><br><span class="line"><span class="built_in">export</span> HADOOP_HDFS_HOME=<span class="variable">$HADOOP_HOME</span></span><br><span class="line"><span class="built_in">export</span> YARN_HOME=<span class="variable">$HADOOP_HOME</span></span><br><span class="line"><span class="built_in">export</span> HADOOP_COMMON_LIB_NATIVE_DIR=<span class="variable">$HADOOP_HOME</span>/lib/native</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> SPARK_HOME=/usr/hadoop/spark</span><br><span class="line"><span class="built_in">export</span> PYTHONPATH=<span class="variable">$SPARK_HOME</span>/python:<span class="variable">$PYTHONPATH</span></span><br><span class="line"><span class="built_in">export</span> PYSPARK_DRIVER_PYTHON=<span class="string">"jupyter"</span></span><br><span class="line"><span class="built_in">export</span> PYSPARK_DRIVER_PYTHON_OPTS=<span class="string">"notebook"</span></span><br><span class="line"><span class="built_in">export</span> PYSPARK_PYTHON=python3</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$SPARK_HOME</span>/bin:~/.<span class="built_in">local</span>/bin:<span class="variable">$SPARK_HOME</span></span><br></pre></td></tr></table></figure>
<p>Source the file to apply the changes:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop@master:~$ <span class="built_in">source</span> .bashrc</span><br></pre></td></tr></table></figure>
<p><strong><em>Notice: You may need to restart your computer to apply the changes permanently.</em></strong></p>
<h2 id="configure-spark"><a class="markdownIt-Anchor" href="#configure-spark"></a> Configure Spark</h2>
<p>Configure the spark-defaults.conf file:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Change the template into actual file</span></span><br><span class="line">hadoop@master:/usr/hadoop/spark$ mv /conf/spark-defaults.conf.template /conf/spark-defaults.conf</span><br><span class="line">hadoop@master:/usr/hadoop/spark$ mv /conf/spark-env.template /conf/spark-env.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#Open and write file</span></span><br><span class="line">hadoop@master:/usr/hadoop$ vim spark/conf/spark-defaults.conf</span><br><span class="line"></span><br><span class="line"><span class="comment">#Contents should be put into the file</span></span><br><span class="line">spark.master                     yarn</span><br><span class="line">spark.eventLog.enabled           <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Create the log directory in HDFS</span></span><br><span class="line">hadoop@master:/usr/hadoop$ hdfs dfs -mkdir /spark-logs</span><br></pre></td></tr></table></figure>
<h2 id="checking-spark-version"><a class="markdownIt-Anchor" href="#checking-spark-version"></a> Checking Spark version</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop@master:/usr/hadoop$ spark-shell –-version</span><br></pre></td></tr></table></figure>
<h1 id="setup-public-jupyter-notebook"><a class="markdownIt-Anchor" href="#setup-public-jupyter-notebook"></a> Setup Public Jupyter Notebook</h1>
<p>After the installation of jupyter:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hadoop@master:~$ jupyter notebook --generate-config</span><br><span class="line">hadoop@master:~$ <span class="built_in">cd</span> .jupyter/</span><br><span class="line">hadoop@master:~/.jupyter/$ vim jupyter_notebook_config.py</span><br></pre></td></tr></table></figure>
<p>Uncomment lines and adjust some values:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">c.NotebookApp.ip = <span class="string">'master'</span></span><br><span class="line">c.NotebookApp.port = 9999</span><br><span class="line">c.NotebookApp.allow_password_change = True</span><br></pre></td></tr></table></figure>
<p><strong><em>Notice: After the first change of the password and login please set allow_password_change into False or comment it out.</em></strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c.NotebookApp.allow_password_change = False</span><br></pre></td></tr></table></figure>
<h1 id="extras"><a class="markdownIt-Anchor" href="#extras"></a> Extras</h1>
<h2 id="change-machines-username"><a class="markdownIt-Anchor" href="#change-machines-username"></a> Change Machines’ Username</h2>
<p>The username should be all the same in different machines because when hadoop connects to other machines, it uses its username as default username for the other machines to connect each other.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Here should be the format for username@hostname on each machine</span></span><br><span class="line">hadoop@master</span><br><span class="line">hadoop@slave1</span><br><span class="line">hadoop@slave2</span><br><span class="line">hadoop@slave3</span><br></pre></td></tr></table></figure>
<p>If the username has been set wrong by mistake when installing the system, it needs changing by using the following commands:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hadoop@slave1:~$ sudo passwd root</span><br><span class="line">hadoop@slave1:~$ su -</span><br><span class="line">root@slave1:~\<span class="comment"># usermod -l hadoop -d /home/hadoop -m slave1</span></span><br></pre></td></tr></table></figure>
<p><strong><em>Notice: These command can only run after logging into other user.  So, please create a new user and then logout the purpose user and login into the new user to type these command to change the purpose user’s username by typing the commands above to the new user’s terminal.</em></strong></p>
<h2 id="docker-suspended-not-in-use"><a class="markdownIt-Anchor" href="#docker-suspended-not-in-use"></a> Docker (<strong>Suspended</strong> - Not in use)</h2>
<p><a href="https://phoenixnap.com/kb/how-to-install-docker-on-ubuntu-18-04" target="_blank" rel="noopener">Guide to Install Docker</a></p>
<p><a href="https://hub.docker.com/signup" target="_blank" rel="noopener">Sign Up Docker</a></p>
<p>Login Docker:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hadoop@slave1:~$ sudo docker login</span><br><span class="line">hadoop@slave1:~$ mkdir images</span><br></pre></td></tr></table></figure>
<p><a href="https://hub.docker.com/r/sequenceiq/hadoop-docker/" target="_blank" rel="noopener">Guide to Use Hadoop Image</a></p>
<p>Pull -&gt; Run</p>
<h2 id="useful-commands"><a class="markdownIt-Anchor" href="#useful-commands"></a> Useful Commands</h2>
<h3 id="general-commands"><a class="markdownIt-Anchor" href="#general-commands"></a> General Commands</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Format the namenode - ONLY RUN ONCE</span></span><br><span class="line">hadoop@master:~$ hadoop namenode -format</span><br><span class="line"></span><br><span class="line"><span class="comment">#Start Service</span></span><br><span class="line">hadoop@master:~$ start-all.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#Stop Service</span></span><br><span class="line">hadoop@master:~$ stop-all.sh</span><br><span class="line"></span><br><span class="line"><span class="comment">#Get hdfs Report</span></span><br><span class="line">hadoop@master:~$ hdfs dfsadmin -report</span><br><span class="line"></span><br><span class="line"><span class="comment">#Copy Files to Remote Computer</span></span><br><span class="line">hadoop@slave1:~$ scp -r &lt;folder_name&gt; &lt;remote_username&gt;@&lt;remote_hostname&gt;:&lt;remote_path&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">#Change Permission for Remote Computer</span></span><br><span class="line">hadoop@slave1:~$ chown -R &lt;remote_username&gt;:&lt;remote_hostname&gt; &lt;folder_name&gt;</span><br></pre></td></tr></table></figure>
<h3 id="resetting-path-in-case-if-the-path-is-overwritten-by-mistake"><a class="markdownIt-Anchor" href="#resetting-path-in-case-if-the-path-is-overwritten-by-mistake"></a> Resetting $PATH (In case if the $PATH is overwritten by mistake)</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="string">"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:"</span></span><br><span class="line">hadoop@slave1:/$ <span class="built_in">source</span> environment</span><br></pre></td></tr></table></figure>
<h1 id="references"><a class="markdownIt-Anchor" href="#references"></a> References</h1>
<h2 id="hadoop"><a class="markdownIt-Anchor" href="#hadoop"></a> Hadoop</h2>
<p><a href="https://www.tutorialspoint.com/hadoop/hadoop_enviornment_setup.htm" target="_blank" rel="noopener">Hadoop Environment Configeration</a></p>
<p><a href="https://www.cnblogs.com/lanxuezaipiao/p/3525554.html" target="_blank" rel="noopener">一步步教你Hadoop多节点集群安装配置</a></p>
<p><a href="https://chaoge123456.github.io/Hadoop%E5%88%86%E5%B8%83%E5%BC%8F%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA.html/" target="_blank" rel="noopener">Hadoop分布式集群搭建</a></p>
<p><a href="https://blog.csdn.net/zolalad/article/details/11470449" target="_blank" rel="noopener">Hadoop系统完全分布式集群搭建方法</a></p>
<h2 id="java-jdk"><a class="markdownIt-Anchor" href="#java-jdk"></a> Java JDK</h2>
<p><a href="https://stackoverflow.com/questions/14788345/how-to-install-the-jdk-on-ubuntu-linux" target="_blank" rel="noopener">How to install the JDK on Ubuntu Linux (OpenJDK)</a></p>
<p><a href="https://www.baeldung.com/oracle-jdk-vs-openjdk" target="_blank" rel="noopener">Differences between OpenJDK and Oracle JDK</a></p>
<h2 id="spark"><a class="markdownIt-Anchor" href="#spark"></a> Spark</h2>
<p><a href="https://opensource.com/article/18/11/pyspark-jupyter-notebook" target="_blank" rel="noopener">How to set up PySpark for your Jupyter notebook</a></p>
<p><a href="http://www.techguru.my/programming/install-spark-2-3-x-on-yarn-with-hadoop-3-x/" target="_blank" rel="noopener">Install Spark 2.3.x on YARN with Hadoop 3.x</a></p>
<p><a href="https://spark.apache.org/docs/latest/rdd-programming-guide.html" target="_blank" rel="noopener">RDD Programming Guide</a></p>
<h2 id="jupyter-notebook"><a class="markdownIt-Anchor" href="#jupyter-notebook"></a> Jupyter Notebook</h2>
<p><a href="https://jupyter-notebook.readthedocs.io/en/stable/public_server.html" target="_blank" rel="noopener">Tutorial on setting up public jupyter notebook</a></p>
<h2 id="hdfs"><a class="markdownIt-Anchor" href="#hdfs"></a> HDFS</h2>
<p><a href="http://fibrevillage.com/storage/630-using-hdfs-command-line-to-manage-files-and-directories-on-hadoop" target="_blank" rel="noopener">Using hdfs command line to manage files and directories on Hadoop</a></p>
<h2 id="docker"><a class="markdownIt-Anchor" href="#docker"></a> Docker</h2>
<p><a href="https://phoenixnap.com/kb/how-to-install-docker-on-ubuntu-18-04" target="_blank" rel="noopener">How To Install Docker On Ubuntu</a></p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Zilan Huang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://hoanjinan.github.io/2019/08/19/Hadoop-Environment-Setup/">http://hoanjinan.github.io/2019/08/19/Hadoop-Environment-Setup/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Setup/">Setup    </a><a class="post-meta__tags" href="/tags/Environment/">Environment    </a><a class="post-meta__tags" href="/tags/Installation/">Installation    </a><a class="post-meta__tags" href="/tags/Configuration/">Configuration    </a><a class="post-meta__tags" href="/tags/Big-Data/">Big Data    </a><a class="post-meta__tags" href="/tags/Data-Science/">Data Science    </a></div><div class="post_share"><div class="social-share" data-image="https://live.staticflickr.com/65535/48621680177_6107d2deaf_o.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-buttom"><i class="fa fa-qrcode"></i> Donate<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lozad post-qr-code__img" src="/img/wechat.jpeg"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lozad post-qr-code__img" src="/img/alipay.jpeg"><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull-left"><a href="/2019/08/20/Spark-for-Machine-Learning-AI/"><img class="prev_cover lozad" data-src="https://live.staticflickr.com/65535/48621537921_7855b8a711_o.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Previous Post</div><div class="prev_info"><span>Spark for Machine Learning and AI</span></div></a></div><div class="next-post pull-right"><a href="/2019/08/16/hello-world/"><img class="next_cover lozad" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Next Post</div><div class="next_info"><span>Hello World</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> Recommend</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2019/08/20/Spark-for-Machine-Learning-AI/" title="Spark for Machine Learning and AI"><img class="relatedPosts_cover lozad" data-src="https://live.staticflickr.com/65535/48621537921_7855b8a711_o.jpg"><div class="relatedPosts_title">Spark for Machine Learning and AI</div></a></div><div class="relatedPosts_item"><a href="/2019/09/02/Natural-Language-Processing/" title="Natural Language Processing (NLP)"><img class="relatedPosts_cover lozad" data-src="https://live.staticflickr.com/65535/48721190707_972b1e932a_b.jpg"><div class="relatedPosts_title">Natural Language Processing (NLP)</div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> Comment</span></div><div id="disqus_thread"></div><script>var unused = null;
var disqus_config = function () {
  this.page.url = 'http://hoanjinan.github.io/2019/08/19/Hadoop-Environment-Setup/';
  this.page.identifier = '2019/08/19/Hadoop-Environment-Setup/';
  this.page.title = 'Hadoop Environment Setup';
}
var d = document, s = d.createElement('script');
s.src = "https://" + 'hoanjinan-otoko' +".disqus.com/embed.js";
s.setAttribute('data-timestamp', '' + +new Date());
(d.head || d.body).appendChild(s);</script></div></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2019 By Zilan Huang</div><div class="framework-info"><span>Driven </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly"><span>Butterfly</span></a></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><section class="rightside" id="rightside"><i class="fa fa-book" id="readmode" title="Read Mode"> </i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="Traditional Chinese and Simplified Chinese Conversion">简</a><i class="fa fa-moon-o nightshift" id="nightshift" title="Dark Mode"></i></section><div id="post_bottom"><div id="post_bottom_items"><a id="to_comment" href="#post-comment"><i class="scroll_to_comment fa fa-comments"></i></a><i class="fa fa-list" id="mobile_toc"></i><div id="toc_mobile"><div class="toc_mobile_headline">Catalog</div><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#ubuntu-installation"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text"> Ubuntu Installation</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#version-ubuntu-desktop-18042-lts"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text"> Version: Ubuntu Desktop 18.04.2 LTS</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#installation-tutorial-install-ubuntu-desktop"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text"> Installation Tutorial: Install Ubuntu Desktop</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#disable-auto-update"><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text"> Disable Auto Update</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#disable-auto-shut-down-and-sleep"><span class="toc_mobile_items-number">1.4.</span> <span class="toc_mobile_items-text"> Disable Auto Shut Down and Sleep</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#hadoop-environment-setup"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text"> Hadoop Environment Setup</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#pre-installation-setup"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text"> Pre-installation Setup</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#checking-hostname"><span class="toc_mobile_items-number">2.1.1.</span> <span class="toc_mobile_items-text"> Checking Hostname</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#checking-current-ip-address"><span class="toc_mobile_items-number">2.1.2.</span> <span class="toc_mobile_items-text"> Checking Current IP Address</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#install-vim"><span class="toc_mobile_items-number">2.1.3.</span> <span class="toc_mobile_items-text"> Install vim</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#add-ip-addresses"><span class="toc_mobile_items-number">2.1.4.</span> <span class="toc_mobile_items-text"> Add IP Addresses</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#java-jdk-installation"><span class="toc_mobile_items-number">2.2.</span> <span class="toc_mobile_items-text"> Java JDK Installation</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#version-java-se-development-kit-8u221-requires-registration"><span class="toc_mobile_items-number">2.2.1.</span> <span class="toc_mobile_items-text"> Version: Java SE Development Kit 8u221 (Requires Registration)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#extract-the-files-to-usrlibjvm"><span class="toc_mobile_items-number">2.2.2.</span> <span class="toc_mobile_items-text"> Extract the Files to /usr/lib/jvm/</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#add-javas-path-into-path"><span class="toc_mobile_items-number">2.2.3.</span> <span class="toc_mobile_items-text"> Add Java’s Path into $PATH</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#check-java-version-and-path"><span class="toc_mobile_items-number">2.2.4.</span> <span class="toc_mobile_items-text"> Check Java Version and Path</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#setup-ssh"><span class="toc_mobile_items-number">2.3.</span> <span class="toc_mobile_items-text"> Setup SSH</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#hadoop-installation"><span class="toc_mobile_items-number">2.4.</span> <span class="toc_mobile_items-text"> Hadoop Installation</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#install-hadoop"><span class="toc_mobile_items-number">2.4.1.</span> <span class="toc_mobile_items-text"> Install Hadoop</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#add-hadoops-path-into-path"><span class="toc_mobile_items-number">2.4.2.</span> <span class="toc_mobile_items-text"> Add Hadoop’s Path into $PATH</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#configure-hadoop"><span class="toc_mobile_items-number">2.4.3.</span> <span class="toc_mobile_items-text"> Configure Hadoop</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#spark-environment-setup"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text"> Spark Environment Setup</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#install-spark"><span class="toc_mobile_items-number">3.1.</span> <span class="toc_mobile_items-text"> Install Spark</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#add-pathes-into-path"><span class="toc_mobile_items-number">3.2.</span> <span class="toc_mobile_items-text"> Add Pathes into $PATH</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#configure-spark"><span class="toc_mobile_items-number">3.3.</span> <span class="toc_mobile_items-text"> Configure Spark</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#checking-spark-version"><span class="toc_mobile_items-number">3.4.</span> <span class="toc_mobile_items-text"> Checking Spark version</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#setup-public-jupyter-notebook"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text"> Setup Public Jupyter Notebook</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#extras"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text"> Extras</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#change-machines-username"><span class="toc_mobile_items-number">5.1.</span> <span class="toc_mobile_items-text"> Change Machines’ Username</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#docker-suspended-not-in-use"><span class="toc_mobile_items-number">5.2.</span> <span class="toc_mobile_items-text"> Docker (Suspended - Not in use)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#useful-commands"><span class="toc_mobile_items-number">5.3.</span> <span class="toc_mobile_items-text"> Useful Commands</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#general-commands"><span class="toc_mobile_items-number">5.3.1.</span> <span class="toc_mobile_items-text"> General Commands</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#resetting-path-in-case-if-the-path-is-overwritten-by-mistake"><span class="toc_mobile_items-number">5.3.2.</span> <span class="toc_mobile_items-text"> Resetting $PATH (In case if the $PATH is overwritten by mistake)</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#references"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text"> References</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#hadoop"><span class="toc_mobile_items-number">6.1.</span> <span class="toc_mobile_items-text"> Hadoop</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#java-jdk"><span class="toc_mobile_items-number">6.2.</span> <span class="toc_mobile_items-text"> Java JDK</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#spark"><span class="toc_mobile_items-number">6.3.</span> <span class="toc_mobile_items-text"> Spark</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#jupyter-notebook"><span class="toc_mobile_items-number">6.4.</span> <span class="toc_mobile_items-text"> Jupyter Notebook</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#hdfs"><span class="toc_mobile_items-number">6.5.</span> <span class="toc_mobile_items-text"> HDFS</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#docker"><span class="toc_mobile_items-number">6.6.</span> <span class="toc_mobile_items-text"> Docker</span></a></li></ol></li></ol></div></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script>$(function () {
  $('span.katex-display').wrap('<div class="katex-wrap"></div>')
})</script><script async src="/js/search/local-search.js"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script src="/js/nightshift.js"></script><script id="ribbon" src="/js/third-party/canvas-ribbon.js" size="150" alpha="0.6" zindex="-1" data-click="false"></script><script id="ribbon" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/js/piao.js"></script><script src="/js/activate-power-mode.js"></script><script>POWERMODE.colorful = true; // make power mode colorful
POWERMODE.shake = true; // turn off shake
document.body.addEventListener('input', POWERMODE);
</script><script src="/js/tw_cn.js"></script><script>translateInitilization()

</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@1.2.2/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script>const observer = lozad(); // lazy loads elements with default selector as '.lozad'
observer.observe();</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"right","width":150,"height":300,"hOffset":100,"vOffset":-10},"mobile":{"show":true},"log":false,"tagMode":false});</script></body></html>